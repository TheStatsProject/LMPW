# LMPW Environment Configuration
# Copy this file to .env and fill in your values

# MongoDB Configuration (required)
# Option 1: MongoDB Atlas standard connection
# MONGO_URL=mongodb+srv://username:password@cluster.mongodb.net/LMBD?retryWrites=true&w=majority

# Option 2: MongoDB Atlas SQL Interface (as shown in MongoDB Atlas Connect dialog)
# MONGO_URL=mongodb://username:password@atlas-sql-xxx.g.query.mongodb.net/LMBD?ssl=true&authSource=admin

# Example for LMBD cluster:
MONGO_URL=mongodb://mocoloco:mocoloco@atlas-sql-687f19d2678c807903e45f78-zalniw.g.query.mongodb.net/LMBD?ssl=true&authSource=admin

# To get your credentials:
# 1. Go to https://cloud.mongodb.com
# 2. Select your cluster (LMBD)
# 3. Click "Connect" -> "Drivers" or "Connect your application"
# 4. Copy the connection string and replace <username> and <password>

# Optional: Override database name from URI
# MONGO_DB=LMBD

# MongoDB Connection Settings (optional, defaults shown)
MONGO_CONNECT_TIMEOUT_MS=10000
MONGO_SERVER_SELECTION_TIMEOUT_MS=10000
MONGO_MAX_POOL_SIZE=50
MONGO_MIN_POOL_SIZE=0
MONGO_RETRY_WRITES=true
MONGO_INITIAL_CONNECT_RETRIES=3
MONGO_INITIAL_CONNECT_INTERVAL=2.0

# JWT/Session Configuration
SESSION_SECRET_KEY=your-secure-secret-key-here

# GitHub Integration (for syncing notes from a repository)
GITHUB_OWNER=your-github-username
GITHUB_REPO=your-notes-repo
GITHUB_TOKEN=github_pat_your_token_here
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# GitHub Auto-Sync on Startup (default: false)
# Set to 'true', '1', or 'yes' to enable automatic sync of notes from GitHub on startup.
# Requires valid GITHUB_OWNER and GITHUB_REPO (not placeholder values).
GITHUB_AUTO_SYNC=false

# Notes sync configuration
NOTES_PATH=notes/
WEBHOOK_SYNC_COOLDOWN_SECONDS=10

# Stripe Payment Configuration (optional)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
PAYMENT_SUCCESS_RETURN_URL=https://your-domain.com/payment-success
EMAIL_ON_PURCHASE=true

# Email Configuration (for sending purchase confirmations)
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_USER=your-email@example.com
EMAIL_PASS=your-email-password
EMAIL_FROM=noreply@your-domain.com

# Admin Configuration
ADMIN_SYNC_SECRET=your-admin-sync-secret

# Logging
LOG_LEVEL=INFO
